{"ast":null,"code":"import { jsx } from \"react/jsx-runtime\";\nimport { GlitchEffect, GlitchMode } from \"postprocessing\";\nimport { forwardRef, useMemo, useLayoutEffect, useEffect } from \"react\";\nimport { useThree } from \"@react-three/fiber\";\nimport { useVector2 } from \"../util.js\";\nconst Glitch = forwardRef(function Glitch2(_ref, ref) {\n  let {\n    active = true,\n    ...props\n  } = _ref;\n  const invalidate = useThree(state => state.invalidate);\n  const delay = useVector2(props, \"delay\");\n  const duration = useVector2(props, \"duration\");\n  const strength = useVector2(props, \"strength\");\n  const chromaticAberrationOffset = useVector2(props, \"chromaticAberrationOffset\");\n  const effect = useMemo(() => new GlitchEffect({\n    ...props,\n    delay,\n    duration,\n    strength,\n    chromaticAberrationOffset\n  }), [delay, duration, props, strength, chromaticAberrationOffset]);\n  useLayoutEffect(() => {\n    effect.mode = active ? props.mode || GlitchMode.SPORADIC : GlitchMode.DISABLED;\n    invalidate();\n  }, [active, effect, invalidate, props.mode]);\n  useEffect(() => {\n    return () => {\n      effect.dispose();\n    };\n  }, [effect]);\n  return /* @__PURE__ */jsx(\"primitive\", {\n    ref,\n    object: effect,\n    dispose: null\n  });\n});\nexport { Glitch };","map":{"version":3,"names":["Glitch","forwardRef","Glitch2","_ref","ref","active","props","invalidate","useThree","state","delay","useVector2","duration","strength","chromaticAberrationOffset","effect","useMemo","GlitchEffect","useLayoutEffect","mode","GlitchMode","SPORADIC","DISABLED","useEffect","dispose","jsx","object"],"sources":["C:\\Users\\Catriel\\Desktop\\3d-react\\node_modules\\@react-three\\postprocessing\\src\\effects\\Glitch.tsx"],"sourcesContent":["import { Vector2 } from 'three'\nimport { GlitchEffect, GlitchMode } from 'postprocessing'\nimport { Ref, forwardRef, useMemo, useLayoutEffect, useEffect } from 'react'\nimport { ReactThreeFiber, useThree } from '@react-three/fiber'\nimport { useVector2 } from '../util'\n\nexport type GlitchProps = ConstructorParameters<typeof GlitchEffect>[0] &\n  Partial<{\n    mode: GlitchMode\n    active: boolean\n    delay: ReactThreeFiber.Vector2\n    duration: ReactThreeFiber.Vector2\n    chromaticAberrationOffset: ReactThreeFiber.Vector2\n    strength: ReactThreeFiber.Vector2\n  }>\n\nexport const Glitch = forwardRef<GlitchEffect, GlitchProps>(function Glitch(\n  { active = true, ...props }: GlitchProps,\n  ref: Ref<GlitchEffect>\n) {\n  const invalidate = useThree((state) => state.invalidate)\n  const delay = useVector2(props, 'delay')\n  const duration = useVector2(props, 'duration')\n  const strength = useVector2(props, 'strength')\n  const chromaticAberrationOffset = useVector2(props, 'chromaticAberrationOffset')\n  const effect = useMemo(\n    () => new GlitchEffect({ ...props, delay, duration, strength, chromaticAberrationOffset }),\n    [delay, duration, props, strength, chromaticAberrationOffset]\n  )\n  useLayoutEffect(() => {\n    effect.mode = active ? props.mode || GlitchMode.SPORADIC : GlitchMode.DISABLED\n    invalidate()\n  }, [active, effect, invalidate, props.mode])\n  useEffect(() => {\n    return () => {\n      effect.dispose()\n    }\n  }, [effect])\n  return <primitive ref={ref} object={effect} dispose={null} />\n})\n"],"mappings":";;;;;AAgBa,MAAAA,MAAA,GAASC,UAAA,CAAsC,SAASC,QAAAC,IAAA,EAEnEC,GAAA,EACA;EAAA,IAFA;IAAEC,MAAA,GAAS;IAAM,GAAGC;EAAM,IAAAH,IAAA;EAG1B,MAAMI,UAAA,GAAaC,QAAA,CAAUC,KAAA,IAAUA,KAAA,CAAMF,UAAU;EACjD,MAAAG,KAAA,GAAQC,UAAA,CAAWL,KAAA,EAAO,OAAO;EACjC,MAAAM,QAAA,GAAWD,UAAA,CAAWL,KAAA,EAAO,UAAU;EACvC,MAAAO,QAAA,GAAWF,UAAA,CAAWL,KAAA,EAAO,UAAU;EACvC,MAAAQ,yBAAA,GAA4BH,UAAA,CAAWL,KAAA,EAAO,2BAA2B;EAC/E,MAAMS,MAAA,GAASC,OAAA,CACb,MAAM,IAAIC,YAAA,CAAa;IAAE,GAAGX,KAAA;IAAOI,KAAA;IAAOE,QAAA;IAAUC,QAAA;IAAUC;EAAA,CAA2B,GACzF,CAACJ,KAAA,EAAOE,QAAA,EAAUN,KAAA,EAAOO,QAAA,EAAUC,yBAAyB;EAE9DI,eAAA,CAAgB,MAAM;IACpBH,MAAA,CAAOI,IAAA,GAAOd,MAAA,GAASC,KAAA,CAAMa,IAAA,IAAQC,UAAA,CAAWC,QAAA,GAAWD,UAAA,CAAWE,QAAA;IAC3Df,UAAA;EAAA,GACV,CAACF,MAAA,EAAQU,MAAA,EAAQR,UAAA,EAAYD,KAAA,CAAMa,IAAI,CAAC;EAC3CI,SAAA,CAAU,MAAM;IACd,OAAO,MAAM;MACXR,MAAA,CAAOS,OAAA,CAAQ;IAAA;EACjB,GACC,CAACT,MAAM,CAAC;EACX,sBAAAU,GAAA,CAAQ,aAAU;IAAArB,GAAA;IAAUsB,MAAA,EAAQX,MAAA;IAAQS,OAAA,EAAS;EAAM;AAC7D,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}